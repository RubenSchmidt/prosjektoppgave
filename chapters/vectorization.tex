\chapter{Vectorization}\label{chp:vectorization}
Vectorization, raster-to-vector conversion or image tracing is the conversion of raster graphics to vector graphics. To understand the reason for converting from raster to vector we need to look at some of the properties of both storage techniques.

Raster data is structured as an array of grid cells, also referred to as pixels. Each cell in a raster can be addressed by its position in the array, by row and column number. Since each pixel has it's own value, a raster can represent a range of spatial objects. A point can be represented by a single pixel, an arc represented by a sequence of pixels and an area as a collection of continuous pixels. Vector data is structured as a finite straight line segment defined by its endpoints. The location, or coordinates, of the endpoints, are given with respect to a coordinatization of the plane. The vector representation is not discretized in a grid space the same way as a raster but does follow an implicit grid structure as a result of the nature of computer arithmetic. Like the raster, the vector structure can represent multiple spatial structures. A point is given by its coordinates, an arc represented as a sequence of line segments, each consisting of start and end coordinates and an area represented by its boundary consisting of a collection of vectors.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.8\linewidth]{fig/rastervector.png}
	\captionsource{Raster and vector data}{\cite{Worboys2003}}
	\label{fig:rastervsvector}
\end{figure}

There are multiple reasons for storing data in vector format: The geographic accuracy is higher since it is not dependent on grid size, it allows for efficient encoding of topology, an important aspect when doing analysis that utilizes topologic relations, such as proximity and network analysis, vector data allows for storage of attributes in the data, giving us another dimension of information and the storage size is smaller.

There are multiple different techniques for vectorization. Some of the well known are:

\begin{itemize}
	\item Hough Transform based methods
	\item Thinning based methods
	\item Contour based methods
	\item Run-graph based methods
	\item Mesh pattern based methods
	\item Sparse-pixel based methods
\end{itemize}

All these have different properties and it is important to choose the one that is best for the specific problem. 

\section{Hough Transform}
The Hough Transform can isolate features of particular shape within images. The user must describe the desired feature in a parametric form, therefore the most common application of Hough Transform is to detect regular curves such as lines and circles. The technique is known to be tolerant of image noise and gaps in the feature boundary.

Hough Transform works by transforming each of the pixels into a straight line in a parameter space. The parameter space is described by the parametric form of features we are looking for. In the simplest case of a Hugh Transform, we want to detect straight lines. For this the normal form $r = x cos(\theta) + y sin(\phi)$ is used to represent the lines. When iterating the pixels in the image the algorithm looks if there is enough evidence that there is a straight line at that pixel, if there is, it calculates the parameters $\theta$ and $\phi$ at that point and adds it to an array. The array accumulates all the points that belongs to each specific $\theta$ and $\phi$, thus the more points that are on the same parameters the more likely they belong to a line. The algorithm visits each pixel one time and is therefore linear with the number of pixels in the image.

\section{Thinning}
Thinning is a morphologic operation that is used to remove foreground pixels from an image, resulting in a simplified image with the same topologial relations as the input image. It works by successively removing pixels from the boundary until there is not possible to remove more. The skeleton that is left contains the centerlines of the objects. This technique is mostly used on binary images. The iterative nature of the algorithm makes it computationally expensive.

\section{Contour}
This method aim at lowering the computational cost compared to thinning. The main idea is to find edges before calculating the middle point that is between two opposite parallel edges. A chain of middle points represent the medial axis. It has to use a edge detection algorithm before extracting the middle points between the edges. A problem with the contour based methods is how they deal with junctions. It is likely to miss junctions that are crossing at a small angle and it has difficulties with cross intersections where four lines meet \cite{Wenyin1999}. It is thus not suited for vectorization of curves and crossing lines.

\section{Run-graph}
Run-graph is a semi-vector representation of the raster image \cite{Monagan1993}. It examines the raster in either row or column direction in what is defined as horizontal and vertical \emph{runs}. A horizontal run is a maximal horizontal sequence of black pixels. A vertical run is a maximal vertical sequence of black pixels. After running, the run-graph is composed of edge areas that represent line segments and node areas and touching points that correspond to endpoints and junctions. The line extraction from the graph attempts to minimize the area of the node and maximize 

\section{Mesh pattern}

\section{Sparse-pixel}
